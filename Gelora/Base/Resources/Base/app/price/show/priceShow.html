<div class="row">
    <div class="col-sm-8">
        <h4>Harga {{ ctrl.price.model_code || 'Baru' }}</h4>
        <div ng-if="!ctrl.price.created_at">
            <label>Model Kendaraan</label>
            <vehicle-model-finder color-selectable="false" selected-model="ctrl.model" on-model-selected="ctrl.price.model_name=ctrl.model.name;ctrl.price.model_code=ctrl.model.code;ctrl.price.model_id=ctrl.model.id" params='{"current":"true"}'>
            </vehicle-model-finder>
        </div>
        <br>
        <div ng-if="ctrl.price.model_id">
            <label>Nama</label>
            <input readonly type="text" ng-model="ctrl.price.model_name">
            <label>Kode</label>
            <input readonly type="text" ng-model="ctrl.price.model_code">
                <label for="plafond-group">Plafond Group</label>
                <input id="plafond-group" type="text" ng-model="ctrl.price.plafond_group">
            <label>Cost Of Good (HPP, diluar PPN)</label>
            <input type="number" ng-model="ctrl.price.cost_of_good">
            <label>Off the Road (termasuk PPN)</label>
            <input type="number" ng-model="ctrl.price.off_the_road">
            <label>On the Road</label>
            <input type="number" ng-model="ctrl.price.on_the_road">
            <label>Notice Pajak</label>
            <input type="number" ng-model="ctrl.price.registration_fee">
            <label>Maksimal Biaya Proses (diluar Notice Pajak)</label>
            <input type="number" ng-model="ctrl.price.max_registration_process_fee">
        </div>
    </div>
    <div class="col-sm-4">
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr>
                        <th>Catatan</th>
                        <th>Jumlah</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="extra in ctrl.price.extras">
                        <td>
                            <input type="text" ng-model="extra.note">
                        </td>
                        <td>
                            <input type="number" ng-model="extra.amount">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <button class="btn btn-sm btn-block btn-primary" ng-click="ctrl.price.extras.push({})">Tambah</button>
        <hr>
        <label>Catatan</label>
        <textarea style="height: 10em;" rows="10" ng-model="ctrl.price.note"></textarea>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <button class="btn btn-block btn-warning" ng-click="ctrl.store(ctrl.price)">Simpan</button>
    </div>
</div>
<br>
<style type="text/css">
.ui-autocomplete {
    z-index: 100;
}
</style>
