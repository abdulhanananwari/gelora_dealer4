<div class="row">
    <div class="col-sm-12">
        <h4>Batch Tagihan / Faktur yang Masuk dari Biro Jasa</h4>
        <hr>
        <a class="btn btn-block btn-warning" ui-sref="agencyInvoiceShow">Buat Baru</a>
        <br>
        <select ng-options="key as value for (key, value) in ctrl.statuses" ng-model="ctrl.filter.status" ng-change="ctrl.load()"></select>
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Dibuat Oleh</th>
                        <th>Catatan</th>
                        <th>Biro Jasa</th>
                        <th>Tanggal Dibuat</th>
                        <th>Tanggal Ditutup</th>
                        <th>Buka</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="registrationBatch in ctrl.registrationBatches">
                        <td>{{ registrationBatch.creator.name }}</td>
                        <td>{{ registrationBatch.note }}</td>
                        <td>{{ registrationBatch.agent.name}}</td>
                        <td>{{ registrationBatch.created_at | fromDateTimeString }}</td>
                        <td>{{ registrationBatch.closed_at | fromDateTimeString}}</td>
                        <td><a ui-sref="agencyInvoiceShow({id:registrationBatch.id})">Buka</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <pagination pagination="ctrl.meta.pagination" page="page" on-load-page="ctrl.load(page)"></pagination>
    </div>
</div>
